<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://jboss.com/products/seam/taglib"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" xmlns:rich="http://richfaces.org/rich"
  template="/layout/template.xhtml">

  <ui:define name="body">

    <h:form id="role">
      <f:facet name="beforeInvalidField">
        <h:graphicImage styleClass="errors" value="/img/icons/error.gif" />
      </f:facet>
      <f:facet name="aroundInvalidField">
        <s:span styleClass="errors" />
      </f:facet>
      <f:facet name="afterInvalidField">
        <s:span>&#160;<s:message styleClass="errors" />
        </s:span>
      </f:facet>

      <rich:panel bodyClass="panelbody">
        <f:facet name="header">
          <h:outputText value="Role Details"></h:outputText>
        </f:facet>
        <h:panelGrid columnClasses="panelgridcol1, panelgridcol2" columns="2">

          <h:outputLabel for="role" value="Role" />
          <h:inputText id="name" value="#{roleAction.role}"
            readonly="#{identityManager.userExists(roleAction.role)}" />

          <h:outputLabel for="groups" value="Member of" />
          <h:selectManyCheckbox id="roles" value="#{roleAction.groups}" layout="pageDirection">
            <s:selectItems value="#{roleAction.assignableRoles}" var="role" label="#{role}" />
          </h:selectManyCheckbox>

          <h:commandButton id="save" value="Save" action="#{roleAction.save}" />
          <s:button id="cancel" view="/includes/security/rolemanager.xhtml" value="Cancel" propagation="end" />

        </h:panelGrid>
      </rich:panel>
    </h:form>


  </ui:define>

</ui:composition>

